<ResourceDictionary
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:shared="clr-namespace:ExUmbris.Themes.Shared">

	<Style x:Key="ButtonStyleBase" TargetType="{x:Type Button}">
		<Setter Property="OverridesDefaultStyle" Value="true" />
		<Setter Property="shared:TemplateHelper.CornerRadius" Value="{DynamicResource ControlBorderRadius}" />
		<Setter Property="BorderThickness" Value="{DynamicResource ControlBorderThickness}" />
		<Setter Property="Padding" Value="2" />
		<Setter Property="Background" Value="{DynamicResource ControlBackgroundBaseBrush}" />
		<Setter Property="TextBlock.Foreground" Value="{DynamicResource FontBrush}" />

		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="Button">
					<Border
						x:Name="Border"
						Background="{TemplateBinding Background}"
						BorderBrush="{DynamicResource ControlBackgroundBaseBrush}"
						BorderThickness="{TemplateBinding BorderThickness}"
						CornerRadius="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=(shared:TemplateHelper.CornerRadius)}">
						<ContentPresenter
							Margin="{TemplateBinding Padding}"
							HorizontalAlignment="Center"
							VerticalAlignment="Center"
							RecognizesAccessKey="True" />

						<VisualStateManager.VisualStateGroups>
							<VisualStateGroup x:Name="CommonStates">
								<VisualStateGroup.Transitions>
									<VisualTransition GeneratedDuration="0:0:0.25" />
									<VisualTransition GeneratedDuration="0" To="Pressed" />
									<VisualTransition GeneratedDuration="0" From="Pressed" />
								</VisualStateGroup.Transitions>

								<VisualState x:Name="Normal" />

								<VisualState x:Name="MouseOver">
									<Storyboard>
										<ColorAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="Background.(SolidColorBrush.Color)">
											<EasingColorKeyFrame KeyTime="0" Value="{DynamicResource ControlBackgroundBaseHoveredColor}" />
										</ColorAnimationUsingKeyFrames>
										<ColorAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="BorderBrush.(SolidColorBrush.Color)">
											<EasingColorKeyFrame KeyTime="0" Value="{DynamicResource ControlBorderBaseHoveredColor}" />
										</ColorAnimationUsingKeyFrames>
									</Storyboard>
								</VisualState>

								<VisualState x:Name="Pressed">
									<Storyboard>
										<ColorAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="Background.(SolidColorBrush.Color)">
											<EasingColorKeyFrame KeyTime="0" Value="{DynamicResource ControlBackgroundBasePressedColor}" />
										</ColorAnimationUsingKeyFrames>
										<ColorAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="BorderBrush.(SolidColorBrush.Color)">
											<EasingColorKeyFrame KeyTime="0" Value="{DynamicResource ControlBorderBasePressedColor}" />
										</ColorAnimationUsingKeyFrames>
									</Storyboard>
								</VisualState>

								<VisualState x:Name="Disabled">
									<Storyboard>
										<ColorAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="Background.(SolidColorBrush.Color)">
											<EasingColorKeyFrame KeyTime="0" Value="{DynamicResource ControlBackgroundBaseDisabledColor}" />
										</ColorAnimationUsingKeyFrames>
										<ColorAnimationUsingKeyFrames Storyboard.TargetName="Border" Storyboard.TargetProperty="BorderBrush.(SolidColorBrush.Color)">
											<EasingColorKeyFrame KeyTime="0" Value="{DynamicResource ControlBackgroundBaseDisabledColor}" />
										</ColorAnimationUsingKeyFrames>
									</Storyboard>
								</VisualState>
							</VisualStateGroup>
						</VisualStateManager.VisualStateGroups>
					</Border>

					<ControlTemplate.Triggers>
						<Trigger Property="IsDefault" Value="true">
							<Setter TargetName="Border" Property="BorderBrush" Value="{DynamicResource ControlBorderHighContrastColor}" />
						</Trigger>
						<Trigger Property="IsEnabled" Value="false">
							<Setter Property="TextBlock.Foreground" Value="{DynamicResource FontDisabledBrush}" />
						</Trigger>
					</ControlTemplate.Triggers>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

	<Style BasedOn="{StaticResource ButtonStyleBase}" TargetType="{x:Type Button}" />

	<Style
		x:Key="HorizontalExpanderButtonStyle"
		BasedOn="{StaticResource ButtonStyleBase}"
		TargetType="{x:Type Button}">
		<Setter Property="shared:TemplateHelper.CornerRadius" Value="0" />
		<Setter Property="BorderThickness" Value="{DynamicResource ControlBorderLeftRightThickness}" />
	</Style>

	<Style x:Key="HyperlinkButtonStyle" TargetType="{x:Type Button}">
		<Setter Property="TextBlock.Foreground" Value="{DynamicResource FontLinkBrush}" />
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="Button">
					<Border
						x:Name="Border"
						Background="Transparent"
						BorderThickness="0"
						CornerRadius="0">
						<ContentPresenter
							Margin="{TemplateBinding Padding}"
							HorizontalAlignment="Center"
							VerticalAlignment="Center"
							RecognizesAccessKey="True" />
					</Border>
				</ControlTemplate>
			</Setter.Value>
		</Setter>
		<Style.Triggers>
			<Trigger Property="IsMouseOver" Value="true">
				<Setter Property="TextBlock.Foreground" Value="{DynamicResource FontLinkHoverBrush}" />
			</Trigger>
			<Trigger Property="IsEnabled" Value="false">
				<Setter Property="TextBlock.Foreground" Value="{DynamicResource FontDisabledBrush}" />
			</Trigger>
			<Trigger Property="IsEnabled" Value="true">
				<Setter Property="Cursor" Value="Hand" />
			</Trigger>
		</Style.Triggers>
	</Style>

</ResourceDictionary>